<!-- Admin Dashboard Header -->
<div class="admin-header">
  <div class="admin-info">
    <img src="assets/icons/icon-512x512.png" alt="Logo" class="admin-logo">
    <span class="admin-email">Welcome {{ getAdminEmail() }}</span>
  </div>
  <app-sign-out-button [isAdmin]="true"></app-sign-out-button>
</div>

<!-- Admin Management Tabs -->
<div class="admin-content">
  <p-tabView 
    [scrollable]="true" 
    styleClass="admin-tabs"
    [activeIndex]="activeTabIndex()"
    (onChange)="onTabChange($event)">
    
    @if (dashboardConfig) {
    <!-- Products Management Tab -->
    <p-tabPanel header="Products" leftIcon="pi pi-box">
      <app-tab-management 
        [config]="dashboardConfig.tabs.products"
        [data]="productData()"
        [loading]="isLoadingProducts()"
        [totalRecordsInput]="adminProductSearch.state().total"
        (dataLoad)="onProductDataLoad($event)">
      </app-tab-management>
    </p-tabPanel>

    <!-- Users Management Tab -->
    <p-tabPanel header="Users" leftIcon="pi pi-users">
      <app-tab-management 
        [config]="dashboardConfig.tabs.users"
        [data]="userData()"
        [loading]="isLoadingUsers()"
        [totalRecordsInput]="adminUserSearch.state().total"
        (dataLoad)="onUserDataLoad($event)">
      </app-tab-management>
    </p-tabPanel>

    <!-- User Carts Management Tab -->
    <p-tabPanel header="User Carts" leftIcon="pi pi-shopping-cart">
      <app-tab-management 
        #cartTabManagement
        [config]="dashboardConfig.tabs.carts"
        [data]="cartData()"
        [loading]="isLoadingCarts()"
        [totalRecordsInput]="adminCartSearch.state().total"
        (dataLoad)="onCartDataLoad($event)">
      </app-tab-management>
    </p-tabPanel>
    }

    <!-- User Wishlists Management Tab -->
    <p-tabPanel header="User Wishlists" leftIcon="pi pi-heart">
      <app-tab-management 
        #wishlistTabManagement
        [config]="dashboardConfig.tabs.wishlists"
        [data]="wishlistData()"
        [loading]="isLoadingWishlists()"
        [totalRecordsInput]="adminWishlistSearch.state().total"
        (dataLoad)="onWishlistDataLoad($event)">
      </app-tab-management>
    </p-tabPanel>

    <!-- Contact Mails Management Tab -->
    <p-tabPanel header="Contact Mails" leftIcon="pi pi-envelope">
      <div class="tab-content">
        <h3>Contact Mails Management (RUD)</h3>
        <p>Read, Update, Delete contact mails</p>
        <!-- TODO: Implement contact mails RUD component -->
      </div>
    </p-tabPanel>

  </p-tabView>
</div>
